blackjack_strategy = {
    8: {2: '1', 3: '1', 4: '1', 5: '1', 6: '1', 7: '1', 8: '1', 9: '1', 10: '1', 'A': '1'},
    9: {2: '1', 3: '1', 4: '1', 5: '1', 6: '1', 7: '1', 8: '1', 9: '1', 10: '1', 'A': '1'},
    10: {2: '1', 3: '1', 4: '1', 5: '1', 6: '1', 7: '1', 8: '1', 9: '1', 10: '1', 'A': '1'},
    11: {2: '1', 3: '1', 4: '1', 5: '1', 6: '1', 7: '1', 8: '1', 9: '1', 10: '1', 'A': '1'},
    12: {2: '1', 3: '1', 4: '0', 5: '0', 6: '0', 7: '1', 8: '1', 9: '1', 10: '1', 'A': '1'},
    13: {2: '0', 3: '0', 4: '0', 5: '0', 6: '0', 7: '1', 8: '1', 9: '1', 10: '1', 'A': '1'},
    14: {2: '0', 3: '0', 4: '0', 5: '0', 6: '0', 7: '1', 8: '1', 9: '1', 10: '1', 'A': '1'},
    15: {2: '0', 3: '0', 4: '0', 5: '0', 6: '0', 7: '1', 8: '1', 9: '1', 10: '1', 'A': '1'},
    16: {2: '0', 3: '0', 4: '0', 5: '0', 6: '0', 7: '1', 8: '1', 9: '1', 10: '1', 'A': '1'},
    17: {2: '0', 3: '0', 4: '0', 5: '0', 6: '0', 7: '0', 8: '0', 9: '0', 10: '0', 'A': '0'},
    18: {2: '0', 3: '0', 4: '0', 5: '0', 6: '0', 7: '0', 8: '0', 9: '0', 10: '0', 'A': '0'},
    19: {2: '0', 3: '0', 4: '0', 5: '0', 6: '0', 7: '0', 8: '0', 9: '0', 10: '0', 'A': '0'},
    20: {2: '0', 3: '0', 4: '0', 5: '0', 6: '0', 7: '0', 8: '0', 9: '0', 10: '0', 'A': '0'},
    21: {2: '0', 3: '0', 4: '0', 5: '0', 6: '0', 7: '0', 8: '0', 9: '0', 10: '0', 'A': '0'},
    '2, 2': {2: '1', 3: '1', 4: '1', 5: '1', 6: '1', 7: '1', 8: '1', 9: '1', 10: '1', 'A': '1'},
    '3, 3': {2: '1', 3: '1', 4: '1', 5: '1', 6: '1', 7: '1', 8: '1', 9: '1', 10: '1', 'A': '1'},
    '4, 4': {2: '1', 3: '1', 4: '1', 5: '1', 6: '1', 7: '1', 8: '1', 9: '1', 10: '1', 'A': '1'},
    '5, 5': {2: '1', 3: '1', 4: '1', 5: '1', 6: '1', 7: '1', 8: '1', 9: '1', 10: '1', 'A': '1'},
    '6, 6': {2: '1', 3: '1', 4: '1', 5: '1', 6: '1', 7: '1', 8: '1', 9: '1', 10: '1', 'A': '1'},
    '7, 7': {2: '1', 3: '1', 4: '1', 5: '1', 6: '1', 7: '1', 8: '1', 9: '1', 10: '1', 'A': '1'},
    '8, 8': {2: '1', 3: '1', 4: '1', 5: '1', 6: '1', 7: '1', 8: '1', 9: '1', 10: '1', 'A': '1'},
    '9, 9': {2: '1', 3: '1', 4: '1', 5: '1', 6: '1', 7: '1', 8: '1', 9: '0', 10: '0', 'A': '0'},
    '10, 10': {2: '0', 3: '0', 4: '0', 5: '0', 6: '0', 7: '0', 8: '0', 9: '0', 10: '0', 'A': '0'},
    'A, A': {2: '0', 3: '0', 4: '0', 5: '0', 6: '0', 7: '0', 8: '0', 9: '0', 10: '0', 'A': '0'},
    'A, 2': {2: '1', 3: '1', 4: '1', 5: '1', 6: '1', 7: '1', 8: '1', 9: '1', 10: '1', 'A': '1'},
    'A, 3': {2: '1', 3: '1', 4: '1', 5: '1', 6: '1', 7: '1', 8: '1', 9: '1', 10: '1', 'A': '1'},
    'A, 4': {2: '1', 3: '1', 4: '1', 5: '1', 6: '1', 7: '1', 8: '1', 9: '1', 10: '1', 'A': '1'},
    'A, 5': {2: '1', 3: '1', 4: '1', 5: '1', 6: '1', 7: '1', 8: '1', 9: '1', 10: '1', 'A': '1'},
    'A, 6': {2: '1', 3: '1', 4: '1', 5: '1', 6: '1', 7: '1', 8: '1', 9: '1', 10: '1', 'A': '1'},
    'A, 7': {2: '0', 3: '0', 4: '0', 5: '0', 6: '1', 7: '0', 8: '0', 9: '1', 10: '1', 'A': '1'},
    'A, 8': {2: '0', 3: '0', 4: '0', 5: '0', 6: '0', 7: '0', 8: '0', 9: '0', 10: '0', 'A': '0'},
    'A, 9': {2: '0', 3: '0', 4: '0', 5: '0', 6: '0', 7: '0', 8: '0', 9: '0', 10: '0', 'A': '0'},
    'A, 10': {2: '0', 3: '0', 4: '0', 5: '0', 6: '0', 7: '0', 8: '0', 9: '0', 10: '0', 'A': '0'},
}


def first_hand(blackjack_strategy, player_hand, dealer_hand):
    if player_hand[0] == player_hand[1]:
        ply_hand = f'{player_hand[0]}, {player_hand[1]}'
    elif player_hand[0] == 'A':
        ply_hand = f'A, {player_hand[1]}'
    elif player_hand[1] == 'A':
        ply_hand = f'A, {player_hand[0]}'
    else:
        ply_hand = f'{player_hand[0]}, {player_hand[1]}'
    if (ply_hand) in blackjack_strategy:
        strategy = blackjack_strategy[ply_hand]
        if dealer_hand == 'A':
            dh = 'A'
        else:
            dh = int(dealer_hand)
        next = strategy[dh]
    else:
        player_hand = [int(n) for n in player_hand]
        summing = sum(player_hand)
        if summing < 8:
            next = 1
        else:
            strategy = blackjack_strategy[int(summing)]
            if dealer_hand == 'A':
                next = strategy['A']
            else:
                next = strategy[int(dealer_hand)]

    return int(next)


first_hand(blackjack_strategy, ['A', 'A'], 7)


def next_hands(blackjack_strategy, player_hand, dealer_hand):
    player_sum = [0]
    for hand in player_hand:
        if hand == 'A':
            rg = len(player_sum)
            for i in range(rg):
                player_sum[i] += 1
                player_sum.append(player_sum[i] + 10)
        else:
            player_sum = [i + int(hand) for i in player_sum]

    if dealer_hand == 'A':
        dh = 11
    else:
        dh = int(dealer_hand)
    if max(player_sum) > 17 and max(player_sum) <= 21:
        next = 0
    elif max(player_sum) <= 17 and max(player_sum) >= 12 and dh < 7:
        next = 0
    elif max(player_sum) <= 17 and max(player_sum) >= 12 and dh >= 7:
        next = 1
    else:
        next = 1
    return next, player_sum


def sum_hand(player_hand):
    player_sum = [0]

    for hand in player_hand:
        if hand == 'A':
            rg = len(player_sum)
            for i in range(rg):
                player_sum[i] += 1
                player_sum.append(player_sum[i] + 10)
        else:
            player_sum = [i + int(hand) for i in player_sum]

    return player_sum